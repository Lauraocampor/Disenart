<!-- HTML -->
<!DOCTYPE html>
<html lang="es">
  <%- include("../partials/head") %>
  <body class="bodyXL">
    <!-- HEADER -->
    <% const headerData = {linkHead_01: {name: "Twitter", url: "https://twitter.com/"}, linkHead_02: {name: "Instagram", url: "https://instagram.com/"}, linkHead_03: {name: "Google Maps", url: "https://www.google.com/maps/"},  linkHead_04: {name: "Youtube", url: "https://youtube.com/"}, linkHead_05: {name: "Facebook", url: "https://facebook.com/"},}; %>
    <%- include('../partials/header', headerData) %>
  <!-- MAIN -->
    <main class="main-editProduct">
        <form class="editProduct" action="/products/<%=product.id_product%>/editProduct?_method=PUT" method="post" enctype="multipart/form-data">
            <div class="editProduct-title-productName">
                <label class="editProduct-name" for="productName">Nombre del producto</label>
                <i class="fa-solid fa-pen-to-square editButton"></i></button>
                     </div>
            <input id="editProduct-name" type="text" value="<%- product.name_product %>" name="productName" placeholder="Buzo Oversize" require>
            <div class="editProduct-title">
                <label class="editProduct-info" for="productColor1">Color</label>
                <i class="fa-solid fa-pen-to-square editButton"></i></button>
                       </div>
            <section class="editProduct-main-option">

                       <select class="editProduct-main-option-size" name="productColor" required>
                        <% colours.forEach(colour => { %>
                            <% if (colour.id_colour === product.colour_id) { %>
                                <option selected value="<%= colour.id_colour %>"><%= colour.colour %></option>
                            <% } else { %>
                                <option value="<%= colour.id_colour %>"><%= colour.colour %></option>
                            <% } %>
                        <% }) %>
                    </select>

            </section>
            <div class="editProduct-title">
                <label class="editProduct-info" for="productSize">Talle</label>
                <i class="fa-solid fa-pen-to-square editButton"></i></button>
            </div>
            <section class="editProduct-main-option">
                <select class="editProduct-main-option-size" name="productSize" required>
                    <% sizes.forEach(size => { %>
                        <% if (size.id_size === product.size_id) { %>
                            <option selected value="<%= size.id_size %>"><%= size.size %></option>
                        <% } else { %>
                            <option value="<%= size.id_size %>"><%= size.size %></option>
                        <% } %>
                    <% }) %>
                </select>
            </section>


            <div class="editProduct-title">
                <label class="editProduct-info" for="productPrice">Precio</label>
                <i class="fa-solid fa-pen-to-square editButton"></i></button>
            </div>
            <input type="number" id="productPrice" value="<%- product.price_product %>" name="productPrice" require>
            <div class="editProduct-title">
                <label class="editProduct-info" for="productDescription">Descripci√≥n</label>
                <i class="fa-solid fa-pen-to-square editButton"></i></button>
            </div>
            <textarea id="editProduct-information-product" type="text"  name="productDescription"
           require>  <%=product.description_product %></textarea>
            <div class="editProduct-title">
                <label class="editProduct-info" for="productStock">Cantidad disponible</label>
                <i class="fa-solid fa-pen-to-square editButton"></i></button>
                            </div>
            <input type="number" value="<%- product.quantity_product %>" name="productStock" placeholder="12">
            <div class="editProduct-title">
                <label class="editProduct-info" for="productImages">Fotos del producto</label>
                <i class="fa-solid fa-pen-to-square editButton"></i></button>

                <section class="createdProduct-img">
                    <% product.image_product.forEach(filename=> { %>
                    <img
                        class="createdProduct-img-files"
                        src="/images/productos/<%= filename %>"
                        width="20%"
                    />
                    <% }) %>
                </section>

            </div>
            <input type="file" value="<%- product.image_product %>"name="productImages" accept=".jpg , .png" multiple>

            <input id="editProduct-finish" type="submit" value="Producto editado">
        </form>
        
        <div class="buttons-color-size">
            <a href="/products/colours">
                <button class="create-color-size-button">Crear color</button>
            </a>

            <a href="/products/sizes">
                <button class="create-color-size-button">Crear talle</button>
            </a>
        </div>
    </main>

 <!-- FOOTER -->
<% const footerData = { link_01: {name: "Twitter", url: "https://twitter.com/"}, link_02: {name: "Instagram", url: "https://instagram.com/"}, link_03: {name: "Google Maps", url: "https://www.google.com/maps/"},  link_04: {name: "Youtube", url: "https://youtube.com/"}, link_05: {name: "Facebook", url: "https://facebook.com/"},} %>
<%- include("../partials/footer", footerData); %>
    <!-- SCRIPT -->
    <script src="js/header.js"></script>
</body>

</html>